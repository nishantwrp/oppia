<div class="oppia-activities-infinity-grid-container" infinite-scroll="
     $ctrl.showMoreActivities()" infinite-scroll-distance="1"
     infinite-scroll-disabled="$ctrl.endOfPageIsReached || $ctrl.searchResultsAreLoading">
  <div ng-repeat="activity in $ctrl.allActivitiesInOrder track by $index" style="display: inline-block;">
    <collection-summary-tile ng-if="activity.activityType === 'collection'"
                             collection-id="activity.id"
                             collection-title="activity.title"
                             last-updated-msec="activity.lastUpdatedMsec"
                             node-count="activity.nodeCount"
                             objective="activity.objective"
                             thumbnail-icon-url="activity.thumbnailIconUrl"
                             thumbnail-bg-color="activity.thumbnailBgColor"
                             show-learner-dashboard-icons-if-possible="true"
                             container-is-narrow="$ctrl.libraryWindowIsNarrow"
                             class="protractor-test-collection-summary-tile">
    </collection-summary-tile>
    <exploration-summary-tile ng-if="activity.activityType === 'exploration'"
                              exploration-id="activity.id"
                              exploration-title="activity.title"
                              last-updated-msec="activity.lastUpdatedMsec"
                              objective="activity.objective"
                              category="activity.category"
                              ratings="activity.ratings"
                              thumbnail-icon-url="activity.thumbnailIconUrl"
                              thumbnail-bg-color="activity.thumbnailBgColor"
                              num-views="activity.numViews"
                              contributors-summary="activity.humanReadableContributorsSummary"
                              is-community-owned="activity.communityOwned"
                              is-community-editable="activity.communityEditable"
                              show-learner-dashboard-icons-if-possible="true"
                              container-is-narrow="$ctrl.libraryWindowIsNarrow"
                              class="protractor-test-exp-summary-tile">
    </exploration-summary-tile>
  </div>
</div>
<div class="oppia-search-results-loading-message"
     ng-if="$ctrl.searchResultsAreLoading">
  Loading more results
  <loading-dots></loading-dots>
</div>

<style>
  activity-tiles-infinity-grid .oppia-activities-infinity-grid-container {
    max-width: 856px;
    margin-left: auto;
    margin-right: auto;
  }

  activity-tiles-infinity-grid .oppia-search-results-loading-message {
    background-color: #e9e9e9;
    bottom: 0;
    color: #000;
    height: 30px;
    margin-top: 15px;
    opacity: 0.9;
    padding-top: 5px;
    text-align: center;
    width: 100%;
    z-index: 50;
  }
</style>
